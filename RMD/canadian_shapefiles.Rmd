---
title: "canadian_shapefiles"
output:
  html_document:
    code_folding: hide
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse) 
library(lubridate)
library(DBI)
library(bigrquery)
library(glue)
library(kableExtra)
library(janitor)
library(reshape)
library(tmap)
library(ggmap)
library(kableExtra)
library(tmap)
library(mapview)
library(leaflet)
library(sf)
library(here)
library(ggplot2)
library(mapview)
library(DT)
library(graphics)
library(sp)
library(raster)
library(rgdal)
```

```{r}
#Canada slow speed zones make their coordinates public in decimal degree - minute format. In order to make the coordinates into shapefiles the coordinates had to be translated to decimal degree format using the formula: all calculations can be found in google drive spreadsheet canadian_zones

# y - Latitude : DD + DM/60
# x - Longitude: -DD - DM/60 

#Coordinates for Northern Static Zone

x_coord <- c(-65,-65,-64.216667,-62.666667,-61.125,-61.058333,-61,-61,-62,-63,-63)
y_coord <- c(50.333333,49.216667,48.666667,48.666667,48.05,47.968333,48,49.066667,49.066667,49.716667,50.333333)
#rbind as coordinates
xym <- cbind(x_coord, y_coord)
#make dataframe
xym2 <- as.data.frame(xym)
#create a Polygon, wrap that into a Polygons object, then wrap that into a SpatialPolygons object:
p = Polygon(xym)
ps = Polygons(list(p),1)
sps = SpatialPolygons(list(ps))
plot(sps)

#give NAD83 CRS
proj4string(sps) = CRS("+proj=longlat +datum=NAD83 +no_defs +ellps=GRS80 +towgs84=0,0,0")
#SpatialPolygonsDataFrame (which is what comes our of readShapeSpatial when the shapefile is polygons) then do
data = data.frame(f=99.9)
spdf = SpatialPolygonsDataFrame(sps,data)
summary(spdf)
writeOGR(spdf, dsn = '.', layer = 'poly', driver = "ESRI Shapefile")




x_coord <- c(-65,
-62.66666667,
-61.125,
-61.05833333,
-62.5,
-65)
y_coord <- c(48.66666667,
48.66666667,
48.05,
47.96666667,
47.16666667,
47.16666667)
xym <- cbind(x_coord, y_coord)
xym2 <- as.data.frame(xym)

p = Polygon(xym)
ps = Polygons(list(p),1)
sps = SpatialPolygons(list(ps))
plot(sps)

data = data.frame(f=99.9)
spdf = SpatialPolygonsDataFrame(sps,data)
plot(spdf)

class(spdf)
writeOGR(spdf, dsn = '.'/RMD, layer = 'northern_static', driver = "ESRI Shapefile")




x_coord <- c(-65,
-64,
-64,
-65)
y_coord <- c(49.68333333,
49.36666667,
49.18333333,
49.33333333)
xym <- cbind(x_coord, y_coord)
xym2 <- as.data.frame(xym)

p = Polygon(xym)
ps = Polygons(list(p),1)
sps = SpatialPolygons(list(ps))
plot(sps)

data = data.frame(f=99.9)
spdf = SpatialPolygonsDataFrame(sps,data)
plot(spdf)

class(spdf)
writeOGR(spdf, dsn = '.', layer = 'poly3', driver = "ESRI Shapefile")


```


This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see <http://rmarkdown.rstudio.com>.

When you click the **Knit** button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this:

```{r cars}
summary(cars)
```


